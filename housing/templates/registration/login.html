{% extends "base.html" %}
{% load socialaccount %}
{% load static %}

{% block extrastyle %}
        <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock extrastyle %}

<body>
    {% block content %}
    
   
    <div class="login-container">
        <button class="close-btn" aria-label="Close">
            <i class="fas fa-times"></i>
        </button>
        
        <div class="logo">
            <i class="fab fa-pinterest"></i>
        </div>
        
        <h2>Welcome to HousikaFty</h2>
        
        <form id="loginForm" method="post" action="{% url 'login' %}">

            {% csrf_token %}
            
            <div class="form-group">
                {{ form.email }}
            </div>
            
            <div class="form-group">
                <div class="password-field">
                    {{ form.password }}
                    <button type="button" class="password-toggle" id="togglePassword">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>
        
            <div class="forgot-password">
                <a href="{% url 'password_reset' %}">Forgot your password?</a>
            </div>
        
            <button type="submit" class="login-btn">Log in</button>
        </form>
        
        <div class="signup-link">
            Not on HousikaFty yet? <a href="{% url 'register' %}">Sign up</a>
        </div>
        
        
        <div class="divider">
            <span>OR</span>
        </div>
        
        <button class="social-btn google-btn">
            <a href="{% provider_login_url 'google'  process='login' %}?next=/" class="login__social-link">
                 <img src="https://www.google.com/favicon.ico" alt="Google icon" class="google-icon">
            Continue with Google
            </a>
            
        </button>
        <div id="loading" style="display: none;">Connecting to Google...</div>
        
        <button class="social-btn facebook-btn">
            <i class="fab fa-facebook"></i>
            Continue with Facebook
        </button>
        
        <div class="signup-link">
            Not on HousikaFty yet? <a href="{% url 'register' %}">Sign up</a>
        </div>
        
        <div class="terms">
            By continuing, you agree to HousikaFty's Terms of Service and acknowledge that you've read our Privacy Policy
        </div>
    </div>

    <script>
        document.getElementById("login__social-link").addEventListener("click", function() {
            document.getElementById("loading").style.display = "block";
        });
        </script>
    {% block extrascript %}
       <script src="{% static 'js/auth.js' %}"></script>
    {% endblock extrascript %}
</body>

{% endblock content %}

